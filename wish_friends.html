<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lời Chúc Cho Bạn Bè</title>
    <style>
        body {
            background-size: cover;
            background-color: pink;
            color: #fff;
            text-align: center;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 50px;
        }
        h1 {
            font-size: 32px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            max-width: 800px;
            margin: 50px auto;
            overflow: hidden; /* Đảm bảo hiệu ứng không tràn */
            white-space: pre-wrap; /* Giữ xuống dòng tự nhiên */
        }
        button.gift-button {
            padding: 15px 30px;
            font-size: 20px;
            background-color: #ff69b4;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 20px auto;
            display: none; /* Ẩn nút ban đầu */
        }
        button.gift-button:hover {
            background-color: #ff1493;
        }
        #poem {
            font-size: 24px;
            white-space: pre-line;
            background: rgba(255, 255, 255, 0.8);
            color: #000;
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            margin: 20px auto;
        }
        #poem button {
            padding: 10px 20px;
            font-size: 18px;
            background-color: #ff0682;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1 id="wishText"></h1>
    <button class="gift-button" id="giftButton" onclick="showPoem()">Món quà nhỏ dành cho bạn</button>
    <div id="poem" style="display: none;">
        <p id="poemText"></p>
        <button onclick="closeWindow()">Đóng</button>
    </div>

    <script>
        const flowerImage = localStorage.getItem('flowerImage');
        if (flowerImage) {
            document.body.style.backgroundImage = `url(${flowerImage})`;
        }
        const poems = [
            "Ngày hai mươi tháng mười rạng rỡ,\nChúc em đẹp mãi không phai tàn.\nSức khỏe dồi dào vui tươi mãi,\nHạnh phúc bên người thân yêu quý.",
            "Phụ nữ Việt Nam thật tuyệt vời,\nNụ cười rạng rỡ mỗi sớm mai.\nThành công công việc gia đình ấm,\n20/10 mãi mãi vui tươi.",
            "Chúc chị em ngày vui bất tận,\nĐẹp đẽ rạng ngời như hoa nở.\nMay mắn theo chân hạnh phúc đến,\nYêu thương tràn đầy không phai mờ.",
            "Hai mươi tháng mười ngày phụ nữ,\nChúc em mạnh mẽ vượt gian nan.\nNiềm vui cuộc sống luôn tràn đầy,\nBên cạnh người thân mãi bình an.",
            "Rạng rỡ nụ cười ngày 20/10,\nChúc chị khỏe mạnh đẹp muôn phần.\nCông việc suôn sẻ tình yêu thắm,\nHạnh phúc viên mãn mãi không ngừng."
        ];

        // Hiệu ứng typewriter cho lời chúc
        const wishText = "Chúc các chị em luôn rạng rỡ tự tin, thành công trong công việc, hạnh phúc trong cuộc sống và mong rằng nụ cười sẽ luôn nở trên môi mỗi ngày";
        const textElement = document.getElementById('wishText');
        let i = 0;

        function typeWriter() {
            if (i < wishText.length) {
                textElement.innerHTML += wishText.charAt(i);
                i++;
                setTimeout(typeWriter, 100); // Tốc độ 100ms mỗi ký tự
            } else {
                // Hiển thị nút sau khi hiệu ứng hoàn tất
                document.getElementById('giftButton').style.display = 'block';
            }
        }

        // Bắt đầu hiệu ứng khi trang load
        window.onload = typeWriter;

        function showPoem() {
            const randomPoem = poems[Math.floor(Math.random() * poems.length)];
            document.getElementById('poemText').innerText = randomPoem;
            document.getElementById('poem').style.display = 'block';
        }
        function closeWindow() {
            if (window.opener && !window.opener.closed) {
                window.close(); // Thử đóng tab nếu được mở từ window.open
            }
            setTimeout(() => {
                window.location.href = 'index.html'; // Fallback quay về trang chính
            }, 100); // Chờ 100ms để window.close() được thử trước
        }
    </script>
</body>
</html>
